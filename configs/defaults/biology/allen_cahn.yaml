# Allen-Cahn (Bistable) Equation
# Equation: du/dt = D * laplace(u) + u * (u - a) * (1 - u)
#
# Models phase transitions with two stable states (u=0 and u=1).
# The parameter 'a' controls which phase "wins" in competition.
#
# =============================================================================
# INTERESTING PARAMETERS TO VARY:
# =============================================================================
#
# 1. THRESHOLD 'a' (most interesting!) - controls traveling wave direction:
#    - a < 0.5: Phase u=1 invades u=0 (wave moves toward u=0 regions)
#    - a = 0.5: Stationary front (symmetric, no net movement)
#    - a > 0.5: Phase u=0 invades u=1 (wave moves toward u=1 regions)
#
#    Wave speed: c ~ sqrt(D/2) * (1 - 2a)
#
#    Try: a=0.3 (strong invasion), a=0.4, a=0.5 (stationary), a=0.6, a=0.7
#
# 2. DIFFUSION 'D' - controls interface width and wave speed:
#    - Smaller D: Sharper interfaces, slower waves
#    - Larger D: Diffuse interfaces, faster waves
#
#    Try: D=0.01 (sharp), D=0.04 (visual-pde default), D=0.1, D=0.2 (diffuse)
#
# 3. INITIAL CONDITIONS - affect long-term dynamics:
#    - gaussian-blobs: Multiple domains that shrink/grow based on 'a'
#    - step: Single planar front for clear traveling wave observation
#    - random-uniform: Spinodal decomposition into domains
#
# 4. BOUNDARY CONDITIONS:
#    - neumann: No-flux (matches visual-pde), waves reflect at boundaries
#    - periodic: Waves wrap around domain
#
# =============================================================================

preset: allen-cahn
parameters:
  D: 0.04  # Diffusion coefficient (visual-pde default)
  a: 0.4   # Threshold: a<0.5 means u=1 phase invades u=0

init:
  type: gaussian-blobs
  params:
    num_blobs: 6
    base_value: 0.0   # Background phase u=0
    blob_value: 1.0   # Blob phase u=1
    min_radius: 0.15
    max_radius: 0.25

solver: scipy
backend: numba
adaptive: true
dt: 0.005  # Matches visual-pde
resolution: 128

bc:
  x: neumann  # Matches visual-pde (no-flux boundaries)
  y: neumann

output:
  path: ./output
  num_frames: 100
  colormap: coolwarm
  field_to_plot: u

seed: 42
domain_size: 10.0  # Larger domain for wave propagation
t_end: 100.0       # Long enough to see domain evolution
